"use strict";(globalThis.webpackChunkkris_kerr_senior_technical_writer=globalThis.webpackChunkkris_kerr_senior_technical_writer||[]).push([[7760],{8742(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"adding-a-system-admin-account","title":"Adding a system admin account","description":"How to add a system admin account","source":"@site/docs/adding-a-system-admin-account.md","sourceDirName":".","slug":"/adding-a-system-admin-account","permalink":"/kris.kerr.professional.website/docs/adding-a-system-admin-account","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/adding-a-system-admin-account.md","tags":[],"version":"current","frontMatter":{"title":"Adding a system admin account","description":"How to add a system admin account","keywords":["API","admin","system"]},"sidebar":"rgoneSidebar","previous":{"title":"Adding an app admin account","permalink":"/kris.kerr.professional.website/docs/adding-an-app-admin-account"},"next":{"title":"Accessing the rgOne API documentation","permalink":"/kris.kerr.professional.website/docs/accessing-rgone-api-docs"}}');var t=s(4848),r=s(8453);const a={title:"Adding a system admin account",description:"How to add a system admin account",keywords:["API","admin","system"]},d=void 0,c={},o=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"To add a system admin account",id:"to-add-a-system-admin-account",level:2}];function l(e){const n={code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Before starting this procedure, deploy (successfully) all of the DCC containers."}),"\n",(0,t.jsx)(n.h2,{id:"to-add-a-system-admin-account",children:"To add a system admin account"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Access DCC service APIs to configure user accounts with your local web browser."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Navigate to the rgOne API docs using a web browser:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"https://LINUX_HOSTNAME:8983/docs/index.html\n"})}),"\n",(0,t.jsx)(n.p,{children:"or"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"http://LINUX_HOSTNAME:8980/docs/index.html\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'When you drill in to a specific API endpoint, a "Try Me" option (in which you can manually exercise the API) is displayed.'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Log in to the rgOne app."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Log in as the user ",(0,t.jsx)(n.code,{children:"admin"}),". You can also log in as the default user ",(0,t.jsx)(n.code,{children:"system"})," using the password ",(0,t.jsx)(n.code,{children:"system"}),".","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'POST /api/v1/auth/signon-admin\r\n    {\r\n        "username": "system",\r\n        "password": "system"\r\n    }\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Copy returned authorization token."}),"\n",(0,t.jsxs)(n.p,{children:["An authorization token is returned. Copy this token for use in the next two endpoint calls.\r\n",(0,t.jsx)(n.img,{alt:"Copy returned authorization token",src:s(716).A+"",title:"Copy returned authorization token",width:"402",height:"250"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create a new user account. (",(0,t.jsx)(n.strong,{children:"Note:"})," You can skip this step if you are simply enabling system admin access for a pre-existing user account.)"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use the following JSON payload to create the user ",(0,t.jsx)(n.code,{children:"newadmin"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Use the authorization token that was previously returned.","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'    POST /api/v1/auth/users\r\n        {\r\n            "username": "newadmin",\r\n            "password": "REDACTED",\r\n            "email": "newadmin@nomail.com",\r\n            "description": "",\r\n            "firstname": "New",\r\n            "lastname": "Admin",\r\n            "authType": "Default"\r\n        }\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Assign the new user to a group."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Assign the user ",(0,t.jsx)(n.code,{children:"newadmin"})," to the ",(0,t.jsx)(n.code,{children:"system"})," group. This gives the user access to the system admin page."]}),"\n",(0,t.jsxs)(n.li,{children:["The general call is:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST\xa0/api/v1/auth/groups/GROUP_NAME/add-user/USER_NAME\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["For this step, use the following values:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST\xa0/api/v1/PREVIOUSLY_GRANTED_TOKEN/groups/system/add-user/newadmin\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Grant the new user access to the rgOne app."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Assign the user ",(0,t.jsx)(n.code,{children:"newadmin"})," to the ",(0,t.jsx)(n.code,{children:"machine_learning"})," group. This gives the user access to the rgOne app."]}),"\n",(0,t.jsxs)(n.li,{children:["The general call is:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST\xa0/api/v1/auth/clients/CLIENT_ID/apps/APP_NAME/add-user/USER_NAME\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["For this step, use the following values:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST\xa0/api/v1/PREVIOUSLY_GRANTED_TOKEN/clients/dcc_client_id_global/apps/machine_learning/add-user/newadmin\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},716(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/add-system-admin-account-copy-returned-authorization-token-60afe3ddf22d3bbf44ec8ec61d2814a5.png"},8453(e,n,s){s.d(n,{R:()=>a,x:()=>d});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);